var AnimationConfig={animal_min_scale:.2,animal_max_scale:.3,animal_move_speed:40,animal_spine_speed:1.5,animal_eat_spead:2,animal_max_num:10,food_scale:.2,food_hp:1,food_max_num:10,light_height:300,light_intensity:1.3,ground_scale:.6,ground_rot_x:35,ground_rot_y:10,door_scale:.7,beauty_scale:.3,fish_scale:.2,fish_move_speed:20};const Animation={STAND:"stand",MOVE:"move",EAT:"eat",SWIM:"run"},FOOD={PORK:1,DUCK:2,APPLE:3,CARROT:4},FOOD_TYPE={MEAT:1,VEGETABLE:2},FOOD_CONFIG={[FOOD.PORK]:{name:"猪肉",fileName:"skeleton",type:FOOD_TYPE.MEAT},[FOOD.DUCK]:{name:"鸭肉",fileName:"duck",type:FOOD_TYPE.MEAT},[FOOD.APPLE]:{name:"苹果",fileName:"apple",type:FOOD_TYPE.VEGETABLE},[FOOD.CARROT]:{name:"胡萝卜",fileName:"radish",type:FOOD_TYPE.VEGETABLE}},ANIMAL={DRAGON_1:1,DRAGON_2:2,DRAGON_3:3,BEAUTY_1:4,BEAUTY_2:5,BEAUTY_3:6},ANIMAL_TYPE={DRAGON:1,BEAUTY_FISH:2},ANIMAL_CONFIG={[ANIMAL.DRAGON_1]:{flipX:!0,fileName:"dragon1",offsetX:60,offsetZ:30,descriptorsUrls:["../../resources/nft/dragon1_1","../../resources/nft/dragon1_2","../../resources/nft/dragon1_3"],name:"霸王龙",audio:"resources/mp3/dragon1.mp3",audioBuffer:null,eatFoodTypes:[FOOD_TYPE.MEAT],type:ANIMAL_TYPE.DRAGON},[ANIMAL.DRAGON_2]:{fileName:"dragon2",offsetX:60,offsetZ:0,descriptorsUrls:["../../resources/nft/dragon2_1","../../resources/nft/dragon2_2","../../resources/nft/dragon2_3"],name:"三角龙",audio:"resources/mp3/dragon2.mp3",audioBuffer:null,eatFoodTypes:[FOOD_TYPE.VEGETABLE],type:ANIMAL_TYPE.DRAGON},[ANIMAL.DRAGON_3]:{fileName:"dragon3",offsetX:60,offsetZ:30,descriptorsUrls:["../../resources/nft/dragon3_1","../../resources/nft/dragon3_2","../../resources/nft/dragon3_3"],name:"翼龙",audio:"resources/mp3/dragon3.mp3",audioBuffer:null,eatFoodTypes:[FOOD_TYPE.MEAT],type:ANIMAL_TYPE.DRAGON},[ANIMAL.BEAUTY_1]:{fileName:"beauty1",name:"tina",audio:"resources/mp3/beauty1.mp3",type:ANIMAL_TYPE.BEAUTY_FISH},[ANIMAL.BEAUTY_2]:{fileName:"beauty2",name:"tina",audio:"resources/mp3/beauty2.mp3",type:ANIMAL_TYPE.BEAUTY_FISH},[ANIMAL.BEAUTY_3]:{fileName:"beauty3",name:"tina",audio:"resources/mp3/beauty3.mp3",type:ANIMAL_TYPE.BEAUTY_FISH}},FISH={FISH_1:1,FISH_2:2,FISH_3:3,FISH_4:4,FISH_5:5,FISH_6:6,FISH_7:7},FISH_CONFIG={[FISH.FISH_1]:{name:"stingray",fileName:"fish1",image:"resources/images/fish_info/bluefish.jpg",description:"I'm stingray, I'm so blue...,         I live in coral reefs in the Indian and Pacific oceans, and I love my friend Nemo.",audio:"resources/mp3/bluefish.mp3"},[FISH.FISH_2]:{name:"clownfish",fileName:"fish2",image:"resources/images/fish_info/clown.jpg",description:"I'm a clownfish and we live among the anemones on the reef because it makes me feel safe.",audio:"resources/mp3/clown.mp3"},[FISH.FISH_3]:{name:"shark",fileName:"fish3",image:"resources/images/fish_info/shark.jpg",description:"I'm a shark, my senses are very sensitive,         I can even smell the blood of fish thousands of miles away.         And our tribes are all over the seas of the world.",audio:"resources/mp3/shark.mp3"},[FISH.FISH_4]:{name:"pufferfish",fileName:"fish5",image:"resources/images/fish_info/puffer.jpg",description:"I'm a pufferfish, I'm timid,         I'll turn into a ball when I'm scared, please don't eat me because I'm poisonous.",audio:"resources/mp3/puffer.mp3"},[FISH.FISH_5]:{name:"green loggerhead turtle",fileName:"fish6",image:"resources/images/fish_info/turtle.jpg",description:"I am a green loggerhead turtle,         because we have less and less relationship with human beings,         I hope that human beings can learn to protect the environment,        so that we can continue to live on this planet <br> together.",audio:"resources/mp3/turtle.mp3"},[FISH.FISH_6]:{name:"salmon",fileName:"fish7",image:"resources/images/fish_info/salmon.jpg",description:"I'm salmon and we go back to our birthplace when we breed.",audio:"resources/mp3/salmon.mp3"},[FISH.FISH_7]:{name:"manta ray",fileName:"fish8",image:"resources/images/fish_info/devilfish.jpg",description:"I'm a manta ray, I'm often called a devilfish, but that's a misunderstanding,         I'm actually very friendly and love making friends.",audio:"resources/mp3/devilfish.mp3"}},door_spine="door";function getRandomNumber(e,a){return Math.random()*(a-e)+e}function get3DPosByScreenPos(e,a,n){let i=new THREE.Vector3,o=new THREE.Vector3;i.set(e/window.innerWidth*2-1,2*-(a/window.innerHeight)+1,.5),i.unproject(n),i.sub(n.position).normalize();e=-n.position.z/i.z;return o.copy(n.position).add(i.multiplyScalar(e)),o}function getScreenPos(e,a,n){var i=new THREE.Matrix4,e=(i.compose(e,new THREE.Quaternion,new THREE.Vector3(1,1,1)),new THREE.Matrix4),a=(a.updateWorldMatrix(!0,!1),e.multiplyMatrices(a.matrixWorld,i),new THREE.Vector3);return a.setFromMatrixPosition(e),a.project(n),a.x=(a.x+1)*window.innerWidth/2,a.y=(1-a.y)*window.innerHeight/2,a}function getTouchDistance(e,a){var n=a.clientX-e.clientX,a=a.clientY-e.clientY;return Math.sqrt(n*n+a*a)}function getQueryVariable(e){for(var a=window.location.search.substring(1).split("&"),n=0;n<a.length;n++){var i=a[n].split("=");if(i[0]==e)return i[1]}return!1}